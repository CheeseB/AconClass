<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
		$(function () {
		$("#a").on("click", getData);
	});
	function getData() {
		$.ajax({
			type: "get",
			url: "sample02_json.jsp",
			dataType: "json",
			success: function (data, status, xhr) {
				// 여기서 data는 json객체
				// dataType: "json" 이면 바로 사용가능
				var username= data.username;
				var age= data.age;

				console.log(username , age);					
				$("#result").text(username+ ":"+ age);

				/* dataType: "text" 면 text를 object로 변환하여 사용해야 함 */
				// var jsondata= JSON.parse(data);
				// var username= jsondata.username;
				// var age= jsondata.age;
			},
			error: function (xhr, status, error) {
				$("#result").text(error);
			}			
		});
	}
	</script>
</head>
<body>
	<button id="a">ajax 요청</button><br>
	<div id="result"></div>
</body>
</html>